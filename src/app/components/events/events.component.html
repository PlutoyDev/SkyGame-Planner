<div class="year" *ngFor="let year of years">
  <h1 class="">{{year}}</h1>
  <div class="events">
    <div class="event p-rel" *ngFor="let instance of yearMap[year]; let i = index;">
      <h1>
        <span class="c-accent event-number" [ngbTooltip]="'Instance of this event.'" >
          #{{ instance.number }}
        </span>
        {{ instance.event.name }}
      </h1>
      <!-- Wiki -->
      <div class="wiki p-abs" *ngIf="instance.event._wiki?.href">
        <a [href]="instance.event._wiki!.href" target="_blank" [ngbTooltip]="'Open wiki'" placement="left" container="body">
          <mat-icon fontIcon="question_mark"></mat-icon>
        </a>
      </div>
      <!-- Overview -->
      <div class="mt-2 item">
        <mat-icon class="menu-icon" fontIcon="calendar_month"></mat-icon>
        <span class="menu-label">
          {{ $any(instance.date) | date:'dd-MM-yyyy' }}
          <span class="c-accent">/</span>
          {{ $any(instance.endDate) | date:'dd-MM-yyyy' }}
        </span>
      </div>
      <!-- Spirits -->
      <div class="mt-2 item link" *ngIf="instance.spirits?.length">
        <mat-icon class="menu-icon" fontIcon="hiking"></mat-icon>
        <span class="menu-label">
          Spirits <span class="c-accent">({{ instance.spirits.length }})</span>
        </span>
      </div>
      <!-- IAPs-->
      <div class="mt-2 item link" *ngIf="instance.shops?.length">
        <mat-icon class="menu-icon" fontIcon="wallet"></mat-icon>
        <span class="menu-label">
          Shops <span class="c-accent">({{ instance.shops.length }})</span>
        </span>
      </div>

    </div>
  </div>
</div>
