<div class="card container">
  <h1 class="h2 mb-0">Traveling Spirits</h1>
</div>
<div class="card p-0 mt-2">
  <app-table [rows]="rows">
    <ng-template [appTableHeader]>#</ng-template>
    <ng-template [appTableHeader]>Spirit</ng-template>
    <ng-template [appTableHeader]>Date</ng-template>
    <ng-template [appTableHeader]>Visit</ng-template>
    <ng-template [appTableHeader]>Unlocked</ng-template>

    <ng-template [appTableColumn] let-row="row">
      {{ row.number }}
    </ng-template>
    <ng-template [appTableColumn] let-row="row">
      <a [routerLink]="['/spirit', row.spiritGuid]" [queryParams]="{ highlightTree: row.treeGuid }">
        {{ row.spirit.name }}
      </a>
    </ng-template>
    <ng-template [appTableColumn] let-row="row">
      <span class="ws-nw">{{ row.date | dayjs:dateFormat }}</span>
    </ng-template>
    <ng-template [appTableColumn] let-row="row">
      {{ row.visit }}
    </ng-template>
    <ng-template [appTableColumn] let-row="row">
      <span *ngIf="row.totalItems" [class.completed]="row.unlockedItems === row.totalItems">
        {{ row.unlockedItems }} / {{ row.totalItems }}
      </span>
    </ng-template>
  </app-table>
</div>
