<h1 class="h2">Spirits</h1>
<app-table [rows]="rows">
  <!-- Headers-->
  <ng-template [appTableHeader]>Spirit</ng-template>
  <ng-template [appTableHeader]>Type</ng-template>
  <ng-template [appTableHeader]>Location</ng-template>
  <ng-template [appTableHeader]>Unlocked</ng-template>

  <!-- Body -->
  <ng-template [appTableColumn] let-row="row">
    <a [routerLink]="['/spirit', row.guid]" [queryParams]="{ tree: row.tree }">{{ row.name }}</a>
  </ng-template>
  <ng-template [appTableColumn] let-row="row">
    {{ row.type }}
  </ng-template>
  <ng-template [appTableColumn] let-row="row">
    <a [routerLink]="row.areaGuid ? ['/area', row.areaGuid] : undefined">
      {{ row.area?.name }}
    </a>
  </ng-template>
  <ng-template [appTableColumn] let-row="row">
    <span *ngIf="row.totalItems"
      [class.partial]="row.unlockedLast && row.unlockedLast === row.totalLast"
      [class.completed]="row.unlockedItems === row.totalItems"
      [ngbTooltip]="row.tooltip" container="body" placement="left"
    >
      {{ row.unlockedItems }} / {{ row.totalItems }}
    </span>
  </ng-template>

  <!-- Footers -->
  <ng-template [appTableFooter] [colspan]="3" [textAlign]="'right'">Total:</ng-template>
  <ng-template [appTableFooter]>
    <span [class.completed]="unlockedItems === totalItems">{{ unlockedItems }} / {{ totalItems }}</span>
  </ng-template>
</app-table>
